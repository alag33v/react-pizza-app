(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),i=c.n(r),s=c(15),a=c(12),o=c(8),j=c(3),l=c.p+"static/media/pizza-logo.56ac8703.svg",d=function(){return Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(a.b,{to:"/react-pizza-app",children:Object(n.jsxs)("div",{className:"header__logo",children:[Object(n.jsx)("img",{width:"38",src:l,alt:"Pizza logo"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"React Pizza"}),Object(n.jsx)("p",{children:"\u0441\u0430\u043c\u0430\u044f \u0432\u043a\u0443\u0441\u043d\u0430\u044f \u043f\u0438\u0446\u0446\u0430 \u0432\u043e \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439"})]})]})}),Object(n.jsx)("div",{className:"header__cart",children:Object(n.jsx)(a.b,{to:"/cart",children:Object(n.jsxs)(A,{className:"button--cart",children:[Object(n.jsx)("span",{children:"520 \u20bd"}),Object(n.jsx)("div",{className:"button__delimiter"}),Object(n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z",stroke:"white",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z",stroke:"white",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669",stroke:"white",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]}),Object(n.jsx)("span",{children:"3"})]})})})]})})},u=c(4),b="SET_SORT_BY",h="SET_CATEGORY",O="SET_SORT",p={sortBy:"popularity",categoryNames:["\u041c\u044f\u0441\u043d\u044b\u0435","\u0412\u0435\u0433\u0435\u0442\u0430\u0440\u0438\u0430\u043d\u0441\u043a\u0430\u044f","\u0413\u0440\u0438\u043b\u044c","\u041e\u0441\u0442\u0440\u044b\u0435","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"],categoryActive:null,sortTitles:[{name:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438",type:"popularity"},{name:"\u0446\u0435\u043d\u0435",type:"price"}],sortActive:0},x=function(e){return{type:h,payload:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{sortBy:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{categoryActive:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{sortActive:t.payload});default:return e}},m=c(22),v=c.n(m),y=c(25),g="SET_PIZZAS",C="SHOW_LOADER",_="HIDE_LOADER",z={pizzas:[],isLoading:!1},w=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(c){var n,r,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:C}),t.prev=1,t.next=4,fetch("https://my-api-test-2021.herokuapp.com/pizzas");case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,i=r.filter((function(t){if("number"===typeof e)return t.category===e;if("string"===typeof e){if("price"===e)return r.sort((function(e,t){return t.price-e.price}));if("popularity"===e)return r.sort((function(e,t){return t.rating-e.rating}))}return t})),c({type:g,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log("error",t.t0);case 15:return t.prev=15,c({type:_}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})));return function(e){return t.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{pizzas:t.payload});case C:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case _:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});default:return e}},k=function(){var e=Object(o.c)((function(e){return e.filters})),t=e.categoryNames,c=e.categoryActive,r=Object(o.b)(),i=function(e){r(x(e)),r(w(e))};return Object(n.jsx)("div",{className:"categories",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{className:null===c?"active":"",onClick:function(){return i(null)},children:"\u0412\u0441\u0435"}),t&&t.map((function(e,t){return Object(n.jsx)("li",{className:c===t?"active":"",onClick:function(){return i(t)},children:e},"".concat(e,"-").concat(t))}))]})})},E=c(14),L=function(){var e=Object(r.useState)(!1),t=Object(E.a)(e,2),c=t[0],i=t[1],s=Object(r.useRef)(null),a=Object(o.c)((function(e){return e.filters})),j=a.sortTitles,l=a.sortActive,d=Object(o.b)();Object(r.useEffect)((function(){return document.body.addEventListener("click",u),function(){document.body.removeEventListener("click",u)}}),[]);var u=function(e){(e.path||e.composedPath&&e.composedPath()).includes(s.current)||i(!1)},b=function(e,t){d(function(e){return{type:O,payload:e}}(e)),d(x(null)),d(w(t)),i(!1)};return Object(n.jsxs)("div",{className:"sort",ref:s,children:[Object(n.jsxs)("div",{className:"sort__label",children:[Object(n.jsx)("svg",{className:"".concat(c?"rotated":""),width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})}),Object(n.jsx)("b",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e:"}),Object(n.jsx)("span",{onClick:function(){i(!c)},children:j[l].name})]}),c&&Object(n.jsx)("div",{className:"sort__popup",children:Object(n.jsx)("ul",{children:j&&j.map((function(e,t){return Object(n.jsx)("li",{className:l===t?"active":"",onClick:function(){return b(t,e.type)},children:e.name},"".concat(e.name,"-").concat(e.type,"-").concat(t))}))})})]})},S=function(e){var t=e.name,c=e.price,i=e.imageUrl,s=e.sizes,a=Object(r.useState)(0),o=Object(E.a)(a,2),j=o[0],l=o[1],d=Object(r.useState)(0),u=Object(E.a)(d,2),b=u[0],h=u[1];return Object(n.jsxs)("div",{className:"pizza-block",children:[Object(n.jsx)("img",{className:"pizza-block__image",src:i,alt:t}),Object(n.jsx)("h4",{className:"pizza-block__title",children:t}),Object(n.jsxs)("div",{className:"pizza-block__selector",children:[Object(n.jsx)("ul",{children:["\u0442\u043e\u043d\u043a\u043e\u0435","\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"].map((function(e,t){return Object(n.jsx)("li",{className:"".concat(j===t?"active":""),onClick:function(){return l(t)},children:e},"".concat(e,"-").concat(t))}))}),Object(n.jsx)("ul",{children:s&&s.map((function(e,t){return Object(n.jsxs)("li",{className:b===t?"active":"",onClick:function(){return h(t)},children:[e," \u0441\u043c"]},"".concat(e,"-").concat(t))}))})]}),Object(n.jsxs)("div",{className:"pizza-block__bottom",children:[Object(n.jsxs)("div",{className:"pizza-block__price",children:["\u043e\u0442 ",c," \u20bd"]}),Object(n.jsxs)("div",{className:"button button--outline button--add",children:[Object(n.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z",fill:"white"})}),Object(n.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(n.jsx)("i",{children:"2"})]})]})]})},A=function(e){var t=e.className,c=e.outline,r=e.children;return Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"button ".concat(t," ").concat(c?"button--outline":""," "),children:r})})},T=c(26),H=function(){return Object(n.jsxs)(T.a,{className:"pizza-block",speed:2,width:280,height:457,viewBox:"0 0 280 457",backgroundColor:"#dedede",foregroundColor:"#ece1c6",children:[Object(n.jsx)("circle",{cx:"140",cy:"100",r:"100"}),Object(n.jsx)("rect",{x:"0",y:"215",rx:"4",ry:"4",width:"280",height:"24"}),Object(n.jsx)("rect",{x:"0",y:"256",rx:"10",ry:"10",width:"280",height:"84"}),Object(n.jsx)("rect",{x:"0",y:"362",rx:"4",ry:"4",width:"92",height:"27"}),Object(n.jsx)("rect",{x:"129",y:"353",rx:"24",ry:"24",width:"152",height:"44"})]})},B=function(){var e=Object(o.c)((function(e){return e.pizzas.pizzas})),t=Object(o.c)((function(e){return e.pizzas.isLoading})),c=Object(o.b)();return Object(r.useEffect)((function(){c(w())}),[c]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"content__top",children:[Object(n.jsx)(k,{}),Object(n.jsx)(L,{})]}),Object(n.jsx)("h2",{className:"content__title",children:"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"}),Object(n.jsx)("div",{className:"content__items",children:t?Array(10).fill("").map((function(e,t){return Object(n.jsx)(H,{},t)})):e.map((function(e,t){return Object(r.createElement)(S,Object(u.a)(Object(u.a)({},e),{},{key:"".concat(e.id,"-").concat(t)}))}))})]})},R=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Cart"})})},M=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"404"})})},P=function(){return Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(d,{}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/react-pizza-app",component:B}),Object(n.jsx)(j.a,{exact:!0,path:"/cart",component:R}),Object(n.jsx)(j.a,{component:M})]})})]})},Z=c(10),D=c(27),V=Object(Z.c)({filters:f,pizzas:N}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,W=Object(Z.e)(V,I(Object(Z.a)(D.a)));c(39);Object(s.render)(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(a.a,{children:Object(n.jsx)(o.a,{store:W,children:Object(n.jsx)(P,{})})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.c3833300.chunk.js.map